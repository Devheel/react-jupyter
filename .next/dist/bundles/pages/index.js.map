{"version":3,"sources":["webpack:///webpack/bootstrap 982bdb3b2d41e5828191?8f7e","webpack:///./pages/index.js?f7ee","webpack:///./src/PlotlyTransform.js?0ecc","webpack:///./src/index.js?9552","webpack:///external \"@nteract/notebook-preview\"?b63d","webpack:///external \"@nteract/transform-dataresource\"?3e85","webpack:///external \"@nteract/transform-vega\"?3710","webpack:///external \"@nteract/transforms\"?3726","webpack:///external \"babel-runtime/regenerator\"?ed22","webpack:///external \"isomorphic-fetch\"?9f67","webpack:///external \"lodash\"?0c8b","webpack:///external \"query-string\"?4b16","[absolute-resource-path]","webpack:///external \"styled-jsx/style\"?f384"],"names":["props","state","loading","content","fetch","response","json","setState","React","Component","Plotly","Props","data","NULL_MIMETYPE","MIMETYPE","PlotlyNullTransform","PlotlyTransform","getFigure","bind","plotDivRef","figure","newPlot","plotDiv","layout","nextProps","redraw","JSON","parse","Object","isFrozen","cloneDeep","style","height","autosize","reduce","transforms","displayOrder","standardDisplayOrder","setDisplay","_class","val","Array","from","document","getElementsByClassName","forEach","elem","setAttribute","display","window","query","queryString","location","search","prototype","hasOwnProperty","call","code","e","preventDefault","target","value","type","onChangeDisplay"],"mappings":"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","file":"bundles/pages/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 982bdb3b2d41e5828191","import React from 'react'\nimport fetch from 'isomorphic-fetch'\nimport Jupyter from '../src'\n\nexport default class extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = { loading: true, content: null }\n  }\n\n  async componentDidMount() {\n    const response = await fetch('/static/notebook.ipynb')\n    this.setState({ content: await response.json(), loading: false })\n  }\n\n  render() {\n    const { loading, content } = this.state\n\n    return (\n      <div>\n        <h1>react-jupyter</h1>\n        {loading && <p>loading...</p>}\n\n        {content &&\n          <Jupyter\n            content={content}\n            display=\"shown\"\n          />\n        }\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./pages/index.js","/* @flow */\nimport * as React from \"react\";\nimport { cloneDeep } from \"lodash\";\nlet Plotly;\nconst Props = {\n  data: \"\"\n};\n\ndeclare class PlotlyHTMLElement extends HTMLElement {}\n\nconst NULL_MIMETYPE = \"text/vnd.plotly.v1+html\";\nconst MIMETYPE = \"application/vnd.plotly.v1+json\";\n\n/*\n * As part of the init notebook mode, Plotly sneaks a <script> tag in to load\n * the plotlyjs lib. We have already loaded this though, so we \"handle\" the\n * transform by doing nothing and returning null.\n */\nconst PlotlyNullTransform = () => null;\nPlotlyNullTransform.MIMETYPE = NULL_MIMETYPE;\n\nclass PlotlyTransform extends React.Component<*> {\n  props: Props;\n  getFigure: () => Object;\n  plotDivRef: (plotDiv: PlotlyHTMLElement | null) => void;\n  plotDiv: PlotlyHTMLElement;\n\n  static MIMETYPE = MIMETYPE;\n\n  constructor(): void {\n    super();\n    this.getFigure = this.getFigure.bind(this);\n    this.plotDivRef = this.plotDivRef.bind(this);\n  }\n\n  componentDidMount(): void {\n    // Handle case of either string to be `JSON.parse`d or pure object\n    const figure = this.getFigure();\n    Plotly.newPlot(this.plotDiv, figure.data, figure.layout);\n  }\n\n  shouldComponentUpdate(nextProps: Props): boolean {\n    return this.props.data !== nextProps.data;\n  }\n\n  componentDidUpdate() {\n    const figure = this.getFigure();\n    this.plotDiv.data = figure.data;\n    this.plotDiv.layout = figure.layout;\n    Plotly.redraw(this.plotDiv);\n  }\n\n  plotDivRef(plotDiv: PlotlyHTMLElement | null): void {\n    if (plotDiv) {\n      this.plotDiv = plotDiv;\n    }\n  }\n\n  getFigure(): Object {\n    const figure = this.props.data;\n    if (typeof figure === \"string\") {\n      return JSON.parse(figure);\n    }\n\n    // The Plotly API *mutates* the figure to include a UID, which means\n    // they won't take our frozen objects\n    if (Object.isFrozen(figure)) {\n      return cloneDeep(figure);\n    }\n    return figure;\n  }\n\n  render(): React$Element<*> {\n    const { layout } = this.getFigure();\n    const style = {};\n    if (layout && layout.height && !layout.autosize) {\n      style.height = layout.height;\n    }\n    // $FlowFixMe: Add typings to ref.\n    return <div ref={this.plotDivRef} style={style} />;\n  }\n}\n\nexport { PlotlyNullTransform };\nexport default PlotlyTransform;\n\n\n\n// WEBPACK FOOTER //\n// ./src/PlotlyTransform.js","import queryString from 'query-string'\nimport {\n  standardTransforms,\n  standardDisplayOrder,\n  registerTransform\n} from \"@nteract/transforms\"\nimport NotebookPreview from \"@nteract/notebook-preview\"\nimport DataResourceTransform from \"@nteract/transform-dataresource\"\n\nimport { VegaLite1, VegaLite2, Vega2, Vega3 } from \"@nteract/transform-vega\"\nimport { PlotlyNullTransform, PlotlyTransform } from \"./PlotlyTransform\"\n\nconst { transforms, displayOrder } = [\n  DataResourceTransform,\n  VegaLite1,\n  VegaLite2,\n  Vega2,\n  Vega3\n].reduce(registerTransform, {\n  transforms: standardTransforms,\n  displayOrder: standardDisplayOrder\n})\n\nconst setDisplay = (_class, val) => {\n  Array\n    .from(document.getElementsByClassName(_class))\n    .forEach(elem =>\n      elem.setAttribute('style', `display:${val} !important`)\n    )\n}\n\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = { display: props.display || 'hidden' }\n    if (typeof window === 'undefined') return\n    const query = queryString.parse(window.location.search)\n    if (query && Object.prototype.hasOwnProperty.call(query, 'code')) { // eslint-disable-line\n      this.state = { display: query.code }\n    }\n  }\n\n  componentWillReceiveProps(props) {\n    this.setState({ display: props.display })\n  }\n\n  onChangeDisplay(e) {\n    e.preventDefault()\n    const display = e.target.value\n    this.setState({ display: e.target.value })\n\n    if (display === 'hidden') {\n      setDisplay('input-container', 'none')\n      setDisplay('nteract-display-area-stdout', 'none')\n      setDisplay('nteract-display-area-sterr', 'none')\n    }\n\n    if (display === 'shown') {\n      setDisplay('input-container', 'flex')\n      setDisplay('nteract-display-area-stdout', 'flex')\n      setDisplay('nteract-display-area-sterr', 'flex')\n    }\n\n    if (display === 'output') {\n      setDisplay('input-container', 'none')\n      setDisplay('nteract-display-area-stdout', 'flex')\n      setDisplay('nteract-display-area-sterr', 'flex')\n    }\n  }\n\n  render() {\n    const { content, type } = this.props\n    const { display } = this.state\n\n    const style = `\n      ${display === 'hidden' || display === 'output' ? `\n        .input-container {\n          display: none!important;\n        }\n      ` : ``}\n\n      ${display === 'hidden' ? `\n        .nteract-display-area-stdout {\n          display: none!important;\n        }\n\n        .nteract-display-area-stderr {\n          display: none!important;\n        }\n      ` : ``}\n    `\n\n    return (\n      <div>\n        Code:{'  '}\n        <select onChange={(e) => this.onChangeDisplay(e)} value={display}>\n          <option value=\"hidden\" defaultValue={display === 'hidden'}>Hidden</option>\n          <option value=\"shown\" defaultValue={display === 'shown'}>Shown</option>\n          <option value=\"output\" defaultValue={display === 'output'}>\n            Hidden, but show code outputs\n          </option>\n        </select>\n\n        <NotebookPreview\n          notebook={content}\n          displayOrder={displayOrder}\n          transforms={transforms}\n        />\n\n        <style jsx global>{style}</style>\n      </div>\n    )\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"@nteract/notebook-preview\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@nteract/notebook-preview\"\n// module id = @nteract/notebook-preview\n// module chunks = 2","module.exports = require(\"@nteract/transform-dataresource\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@nteract/transform-dataresource\"\n// module id = @nteract/transform-dataresource\n// module chunks = 2","module.exports = require(\"@nteract/transform-vega\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@nteract/transform-vega\"\n// module id = @nteract/transform-vega\n// module chunks = 2","module.exports = require(\"@nteract/transforms\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@nteract/transforms\"\n// module id = @nteract/transforms\n// module chunks = 2","module.exports = require(\"babel-runtime/regenerator\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"babel-runtime/regenerator\"\n// module id = babel-runtime/regenerator\n// module chunks = 2","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = isomorphic-fetch\n// module chunks = 2","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = lodash\n// module chunks = 2","module.exports = require(\"query-string\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"query-string\"\n// module id = query-string\n// module chunks = 2","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = react\n// module chunks = 2","module.exports = require(\"styled-jsx/style\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"styled-jsx/style\"\n// module id = styled-jsx/style\n// module chunks = 2"],"sourceRoot":""}